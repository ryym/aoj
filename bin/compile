#!/usr/bin/env bash

pushd `dirname $0`/../ > /dev/null

program="${1:-$(cat .target)}"
ext=${program##*.}

case $ext in
    cpp)
        c++ -o .compiled/cpp $program
        ;;
    scala)
        scalac -d .compiled $program
        ;;
    *)
        ;;
esac

succeeded=$?

popd > /dev/null

exit ${succeeded:-0}
